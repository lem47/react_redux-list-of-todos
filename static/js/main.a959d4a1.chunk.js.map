{"version":3,"sources":["store/index.ts","api/api.ts","components/TodoList/TodoList.tsx","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["LOAD_TODOS","LOAD_USER","DELETE_TODO","setTodos","state","todos","setUser","user","initialState","store","createStore","action","type","payload","filter","todo","id","API_URL","getUser","userId","a","fetch","response","json","getTodos","TodoList","selectUser","selectedUserId","useState","query","setQuery","statusOfTodo","setStatusOfTodo","preparedTodos","todosFilteredByTitle","title","toLowerCase","includes","completed","preparingTodos","dispatch","useDispatch","delTodo","className","value","onChange","event","target","map","classnames","readOnly","onClick","CurrentUser","useSelector","getUserFromServer","userFromServer","useEffect","name","email","phone","App","getTodosFromServer","todosFromServer","setSelectedUserId","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a959d4a1.chunk.js","sourcesContent":["import { createStore, AnyAction } from 'redux';\n\nconst LOAD_TODOS = 'LOAD_TODOS';\nconst LOAD_USER = 'LOAD_USER';\nconst DELETE_TODO = 'DELETE_TODO';\n\nexport const loadTodos = (payload: Todo[]) => ({ type: LOAD_TODOS, payload });\nexport const loadUser = (payload: User) => ({ type: LOAD_USER, payload });\nexport const deleteTodo = (payload: number) => ({ type: DELETE_TODO, payload });\n\nexport const setTodos = (state: RootState) => state.todos;\nexport const setUser = (state: RootState) => state.user;\nexport const removeTodo = (state: RootState) => state.todos;\n\nexport type RootState = {\n  todos: Todo[],\n  user: User | null,\n};\n\nconst initialState: RootState = {\n  todos: [],\n  user: null,\n};\n\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case LOAD_TODOS:\n      return {\n        ...state,\n        todos: [...action.payload],\n      };\n\n    case LOAD_USER:\n      return {\n        ...state,\n        user: action.payload,\n      };\n\n    case DELETE_TODO:\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.payload),\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(rootReducer);\n\nexport default store;\n","const API_URL = 'https://mate.academy/students-api/';\n\nexport const getUser = async (userId: number): Promise<User> => {\n  const response = await fetch(`${API_URL}users/${userId}`);\n\n  return response.json();\n};\n\nexport const getTodos = async (): Promise<Todo[]> => {\n  const response = await fetch(`${API_URL}todos`);\n\n  return response.json();\n};\n","import React, { useState } from 'react';\nimport classnames from 'classnames';\nimport { useDispatch } from 'react-redux';\nimport { deleteTodo } from '../../store';\n\nimport './TodoList.scss';\n\ntype Props = {\n  todos: Todo[];\n  selectUser: (id: number) => void;\n  selectedUserId: number;\n};\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  selectUser,\n  selectedUserId,\n}) => {\n  const [query, setQuery] = useState('');\n  const [statusOfTodo, setStatusOfTodo] = useState('all');\n\n  const filterTodosByTitle = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value);\n  };\n\n  const changeStatusOfTodo = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    setStatusOfTodo(event.target.value);\n  };\n\n  const preparingTodos = () => {\n    const todosFilteredByTitle = todos.filter(({ title }) => {\n      const titleInLowerCase = title.toLowerCase();\n\n      return titleInLowerCase.includes(query.toLowerCase());\n    });\n\n    switch (statusOfTodo) {\n      case 'active (not completed)':\n        return todosFilteredByTitle.filter(\n          ({ completed }) => !completed,\n        );\n\n      case 'completed':\n        return todosFilteredByTitle.filter(\n          ({ completed }) => completed,\n        );\n\n      default:\n        return todosFilteredByTitle;\n    }\n  };\n\n  const preparedTodos = preparingTodos();\n\n  const dispatch = useDispatch();\n\n  const delTodo = (id: number) => {\n    dispatch(deleteTodo(id));\n  };\n\n  return (\n    <div className=\"TodoList\">\n      <div className=\"TodoList__navigation\">\n        <h2>\n          Todos:\n        </h2>\n        <h3>\n          Filter todo by title:\n        </h3>\n        <label>\n          <input\n            type=\"text\"\n            className=\"TodoList__navigationInput\"\n            value={query}\n            onChange={filterTodosByTitle}\n            data-cy=\"filterByTitle\"\n          />\n        </label>\n\n        <h3>\n          Select todo status:\n        </h3>\n        <select\n          value={statusOfTodo}\n          onChange={changeStatusOfTodo}\n        >\n          <option>all</option>\n          <option>active (not completed)</option>\n          <option>completed</option>\n        </select>\n      </div>\n\n      <div className=\"TodoList__list-container\">\n        <ul\n          className=\"TodoList__list\"\n          data-cy=\"listOfTodos\"\n        >\n          {preparedTodos.map(({\n            userId,\n            id,\n            title,\n            completed,\n          }) => (\n            <li\n              className={classnames(\n                'TodoList__item',\n                { 'TodoList__item--checked': completed },\n                { 'TodoList__item--unchecked': !completed },\n              )}\n              key={id}\n            >\n              <label>\n                <input type=\"checkbox\" readOnly />\n                <p>{title}</p>\n              </label>\n\n              <div className=\"TodoList__actions\">\n                <button\n                  type=\"button\"\n                  className={classnames(\n                    'button',\n                    'TodoList__user-button',\n                    {\n                      'TodoList__user-button--selected':\n                      selectedUserId === userId,\n                    },\n                  )}\n                  onClick={() => selectUser(userId)}\n                  data-cy=\"userButton\"\n                >\n                  {`User ${userId}`}\n                </button>\n\n                <button\n                  type=\"button\"\n                  className=\"button TodoList__delete-button\"\n                  onClick={() => delTodo(id)}\n                >\n                  delete TODO\n                </button>\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadUser, setUser } from '../../store';\n\nimport './CurrentUser.scss';\n\nimport { getUser } from '../../api/api';\n\ntype Props = {\n  userId: number;\n  selectUser: (id: number) => void;\n};\n\nexport const CurrentUser: React.FC<Props> = ({ userId, selectUser }) => {\n  const dispatch = useDispatch();\n  const user = useSelector(setUser);\n\n  const getUserFromServer = async () => {\n    const userFromServer = await getUser(userId);\n\n    dispatch(loadUser(userFromServer));\n  };\n\n  useEffect(() => {\n    getUserFromServer();\n  }, [userId]);\n\n  return (\n    <>\n      {user && (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              {`Selected user: ${user.id}`}\n            </span>\n          </h2>\n\n          <h3\n            className=\"CurrentUser__name\"\n            data-cy=\"userName\"\n          >\n            {user.name}\n          </h3>\n\n          <p className=\"CurrentUser__email\">\n            {user.email}\n          </p>\n\n          <p className=\"CurrentUser__phone\">\n            {user.phone}\n          </p>\n\n          <button\n            type=\"button\"\n            className=\"CurrentUser__clearButton\"\n            onClick={() => selectUser(0)}\n          >\n            Clear\n          </button>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './App.scss';\nimport './styles/general.scss';\n\nimport { loadTodos, setTodos } from './store';\nimport { getTodos } from './api/api';\nimport { TodoList } from './components/TodoList/TodoList';\nimport { CurrentUser } from './components/CurrentUser/CurrentUser';\n\nconst App: React.FC = () => {\n  const dispatch = useDispatch();\n  const todos = useSelector(setTodos);\n\n  const getTodosFromServer = async () => {\n    const todosFromServer = await getTodos();\n\n    dispatch(loadTodos(todosFromServer));\n  };\n\n  useEffect(() => {\n    getTodosFromServer();\n  }, []);\n\n  const [\n    selectedUserId,\n    setSelectedUserId,\n  ] = useState(0);\n\n  const selectUser = (userId: number) => {\n    setSelectedUserId(userId);\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          selectUser={selectUser}\n          selectedUserId={selectedUserId}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              userId={selectedUserId}\n              selectUser={selectUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport store from './store';\nimport App from './App';\n\nconst Root = () => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}